<!DOCTYPE html>

<html>
<head>
	<meta charset="utf-8" />
	<title>2D Audio Path Tracing</title>
	<link rel="stylesheet" href="css/screen.css" />
	<script src="sounds/fire-loop-base64.js"></script>
	<script src="sounds/waterfall-loop-base64.js"></script>

	<script src="js/lib/easeljs-NEXT.min.js"></script>
	<script src="js/lib/tweenjs-NEXT.min.js"></script>
	<script src="js/lib/base64-binary.js"></script>

	<script src="js/CFG.js"></script>

	<script src="js/Material.js"></script>
	<script src="js/Point.js"></script>
	<script src="js/Ray.js"></script>
	<script src="js/Receiver.js"></script>
	<script src="js/Sender.js"></script>
	<script src="js/Wall.js"></script>

	<script src="js/Physics.js"></script>
	<script src="js/Scene.js"></script>
	<script src="js/Sound.js"></script>
	<script src="js/UI.js"></script>
	<script>
		window.addEventListener( 'load', function(ev) {
			UI.init();

			// Senders.
			var senders = [
				{
					x: 600,
					y: 200,
					hearableDistance: 350,
					source: SOUND_WATERFALL_LOOP,
					volumeMaster: 0.7
				},
				{
					x: 200,
					y: 400,
					hearableDistance: 300,
					source: SOUND_FIRE_LOOP
				}
			];

			var cbReady = function( sender ) {
				Scene.addSender( sender );
			};

			for( var i = 0; i < senders.length; i++ ) {
				var s = new Sender( senders[i], cbReady );
			}

			// Receiver.
			var r = new Receiver( {
				x: 100,
				y: 100
			} );

			Scene.setReceiver( r );

			// Start.
			Scene.mainLoop();
		} );
	</script>
</head>
<body>

<canvas id="stage"></canvas>

</body>
</html>